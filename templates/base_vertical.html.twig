{% extends 'base.html.twig' %}

{% block html_class %}layout-pf layout-pf-fixed transitions{% endblock %}

{% block menu %}
    <nav class="navbar navbar-pf-vertical">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
                Gestion des EDT
            </a>
        </div>
        <nav class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li><a href="#0" target="_blank" class="nav-item-iconic nav-item-iconic-new-window"><span title="Launch" class="fa fa-external-link"></span></a></li>
            </ul>
            {% include '_right_navbar.html.twig' %}
           
            <div></div></nav>

       



    </nav> <!--/.navbar-->

    <div class="nav-pf-vertical nav-pf-vertical-with-sub-menus">
        <ul class="list-group">
            <li class="list-group-item">
                <a href="#0">
                    <span class="fa fa-dashboard" data-toggle="tooltip" title="" data-original-title="Dashboard"></span>
                    <span class="list-group-item-value">Dashboard</span>
                </a>
            </li>
            <li class="list-group-item">
                <a href="#0">
                    <span class="fa fa-shield" data-toggle="tooltip" title="" data-original-title="Dolor"></span>
                    <span class="list-group-item-value">Dolor</span>

                </a>
            </li>
            <li class="list-group-item secondary-nav-item-pf" data-target="#ipsum-secondary">
                <a href="#0">
                    <span class="fa fa-space-shuttle" data-toggle="tooltip" title="" data-original-title="Ipsum"></span>
                    <span class="list-group-item-value">Ipsum</span>
                </a>

                <div id="-secondary" class="nav-pf-secondary-nav">
                    <div class="nav-item-pf-header">
                        <a href="#0" class="secondary-collapse-toggle-pf" data-toggle="collapse-secondary-nav"></a>
                        <span>Ipsum</span>
                    </div>
                    <ul class="list-group">
                        <li class="list-group-item" data-target="#ipsum-intellegam-tertiary">
                            <a href="#0">
                                <span class="list-group-item-value">Intellegam</span>
                            </a>

                        </li>
                        <li class="list-group-item " data-target="#ipsum-copiosae-tertiary">
                            <a href="#0">
                                <span class="list-group-item-value">Copiosae</span>
                            </a>

                        </li>
                        <li class="list-group-item " data-target="#ipsum-patrioque-tertiary">
                            <a href="#0">
                                <span class="list-group-item-value">Patrioque</span>
                            </a>

                        </li>

                    </ul>
                </div>


            </li>
            <li class="list-group-item secondary-nav-item-pf active" data-target="#amet-secondary">
                <a href="#0">
                    <span class="fa fa-paper-plane" data-toggle="tooltip" title="" data-original-title="Amet"></span>
                    <span class="list-group-item-value">Amet</span>
                </a>

                <div id="amet-secondary" class="nav-pf-secondary-nav">
                    <div class="nav-item-pf-header">
                        <a href="#0" class="secondary-collapse-toggle-pf" data-toggle="collapse-secondary-nav"></a>
                        <span>Amet</span>
                    </div>
                    <ul class="list-group">
                        <li class="list-group-item  active" data-target="#amet-detracto-tertiary">
                            <a href="#0">
                                <span class="list-group-item-value">Detracto Suscipiantur</span>



                            </a>

                        </li>
                        <li class="list-group-item " data-target="#amet-mediocrem-tertiary">
                            <a href="#0">
                                <span class="list-group-item-value">Mediocrem</span>



                            </a>

                        </li>
                        <li class="list-group-item " data-target="#amet-corrumpit-tertiary">
                            <a href="#0">
                                <span class="list-group-item-value">Corrumpit Cupidatat Proident Deserunt</span>



                            </a>

                        </li>

                    </ul>
                </div>


            </li>
            <li class="list-group-item">
                <a href="#0">
                    <span class="fa fa-graduation-cap" data-toggle="tooltip" title="" data-original-title="Adipscing"></span>
                    <span class="list-group-item-value">Adipscing</span>
                </a>
            </li>
            <li class="list-group-item">
                <a href="#0">
                    <span class="fa fa-gamepad" data-toggle="tooltip" title="" data-original-title="Lorem"></span>
                    <span class="list-group-item-value">Lorem</span>
                </a>
            </li>

            <li class="list-group-item secondary-nav-item-pf mobile-nav-item-pf visible-xs-block">
                <a href="#0">
                    <span class="pficon pficon-user" data-toggle="tooltip" title="" data-original-title="User"></span>
                    <span class="list-group-item-value">User</span>
                </a>
                <div id="user-secondary" class="nav-pf-secondary-nav">
                    <div class="nav-item-pf-header">
                        <a href="#0" class="secondary-collapse-toggle-pf" data-toggle="collapse-secondary-nav"></a>
                        <span>User</span>
                    </div>

                    <ul class="list-group">
                        <li class="list-group-item">
                            <a href="#0">
                                <span class="list-group-item-value">Preferences</span>
                            </a>
                        </li>

                        <li class="list-group-item">
                            <a href="#0">
                                <span class="list-group-item-value">Logout</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="list-group-item secondary-nav-item-pf mobile-nav-item-pf visible-xs-block" data-target="#amet-secondary">
                <a href="#0">
                    <span class="pficon pficon-help" data-toggle="tooltip" title="" data-original-title="Help"></span>
                    <span class="list-group-item-value">Help</span>
                </a>
                <div id="help-secondary" class="nav-pf-secondary-nav">
                    <div class="nav-item-pf-header">
                        <a href="#0" class="secondary-collapse-toggle-pf" data-toggle="collapse-secondary-nav"></a>
                        <span>Help</span>
                    </div>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <a href="#0">
                                <span class="list-group-item-value">Help</span>
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="#0">
                                <span class="list-group-item-value">About</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </li>

        </ul>

    </div>
{% endblock %}

{% block body %}
    <div class="container-fluid container-cards-pf container-pf-nav-pf-vertical">
        {% block content %}{% endblock %}
    </div>
{% endblock body %}

{% block javascripts %}
    {{ parent() }}
    <script>
        $(document).ready(function() {
            // Initialize to unread notifications
            // TODO: add badge for unread notifications

            // Show/Hide Notifications Drawer
            $('.drawer-pf-trigger').click(function() {
                var $drawer = $('.drawer-pf');

                $(this).toggleClass('open');
                if ($drawer.hasClass('hide')) {
                    $drawer.removeClass('hide');
                    setTimeout(function () {
                        if (window.dispatchEvent) {
                            window.dispatchEvent(new Event('resize'));
                        }
                        // Special case for IE
                        if ($(document).fireEvent) {
                            $(document).fireEvent('onresize');
                        }
                    }, 100);
                } else {
                    $drawer.addClass('hide');
                }
                // Special case, close navigation menu in mobile mode
                if ($('.container-pf-nav-pf-vertical').hasClass('hidden-nav')) {
                    $('.nav-pf-vertical').removeClass('show-mobile-nav');
                }
            });
            $('.drawer-pf-close').click(function() {
                var $drawer = $('.drawer-pf');

                $('.drawer-pf-trigger').removeClass('open');
                $drawer.addClass('hide');
            });
            $('.drawer-pf-toggle-expand').click(function() {
                var $drawer = $('.drawer-pf');
                var $drawerNotifications = $drawer.find('.drawer-pf-notification');

                if ($drawer.hasClass('drawer-pf-expanded')) {
                    $drawer.removeClass('drawer-pf-expanded');
                    $drawerNotifications.removeClass('expanded-notification');
                } else {
                    $drawer.addClass('drawer-pf-expanded');
                    $drawerNotifications.addClass('expanded-notification');
                }
            });

            // Mark All Read / Clear All
            $('.panel-collapse').each(function (index, panel) {
                var $panel = $(panel);
                var unreadCount = $panel.find('.drawer-pf-notification.unread').length;
                $(panel.parentElement).find('.panel-counter').text(unreadCount + ' New Event' + (unreadCount !== 1 ? 's' : ''));

                if ($('.drawer-pf .panel-collapse .unread').length === 0) {
                    // TODO: remove badge for unread indicator
                }

                $panel.on('click', '.drawer-pf-action [data-toggle="mark-all-read"] .btn', function() {
                    $panel.find('.unread').removeClass('unread');
                    $panel.find('.drawer-pf-action [data-toggle="mark-all-read"]').remove();
                    $(panel.parentElement).find('.panel-counter').text('0 New Events');
                    if ($('.drawer-pf .panel-collapse .unread').length === 0) {
                        $('.drawer-pf-trigger').removeClass('unread');
                    }
                });
                $panel.on('click', '.drawer-pf-action [data-toggle="clear-all"] .btn', function() {
                    $panel.find('.panel-body .drawer-pf-notification').remove();
                    $panel.find('.drawer-pf-action').remove();
                    $panel.find('.blank-slate-pf').removeClass('hidden');
                    $panel.find('.drawer-pf-loading').addClass('hidden');
                    $(panel.parentElement).find('.panel-counter').text('0 New Events');
                    if ($('.drawer-pf .panel-collapse .unread').length === 0) {
                        // TODO: remove badge for unread indicator
                    }
                });

                $panel.find('.drawer-pf-notification').each(function (index, notification) {
                    var $notification = $(notification);
                    $notification.on('click', '.drawer-pf-notification-content', function() {
                        $notification.removeClass('unread');
                        var unreadCount = $panel.find('.drawer-pf-notification.unread').length;
                        $(panel.parentElement).find('.panel-counter').text(unreadCount + ' New Event' + (unreadCount !== 1 ? 's' : ''));
                        if (unreadCount === 0) {
                            $panel.find('.drawer-pf-action [data-toggle="mark-all-read"]').remove();
                            if ($('.drawer-pf .panel-collapse .unread').length === 0) {
                                // TODO: remove badge for unread indicator
                            }
                        }
                    });
                });
            });

            $('#notification-drawer-accordion').initCollapseHeights('.panel-body');
            
        });
    </script>
{% endblock javascripts %}




